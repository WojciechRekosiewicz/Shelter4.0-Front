<div class="container h-100">
  <div class="d-flex justify-content-left h-100">
    <div class="searchbar">
      <input class="search_input" type="text" name="search" [(ngModel)]="searchText" autocomplete="off" placeholder="Search...">
      <a href="#" class="search_icon"><i class="fas fa-search"></i></a>
    </div>
  </div>
</div>

<div class="advert-list">
  <div class="container mt-3">
    <div class="row">
      <div class="card-deck">

        <div class="col-auto mb-4" *ngFor="let advert of adverts | filter:searchText">

          <div *ngIf="isAuthorised(advert.authorId)">
            <div class="card-container">
              <div class="card-extensions">
                <span *ngIf='advert.reservingId == null; else reserved' class="badge badge-success float-left">Available</span>
                <ng-template #reserved>
                  <span class="badge badge-danger">Reserved</span>
                </ng-template>

                <div *ngIf="isAuthorised(advert.authorId)" class="button-container float-right">
                  <i class="far fa-edit text-dark" id="update" (click)="redirectToUpdatePage(advert.advertId)" title="edit"></i>
                  <i class="far fa-trash-alt text-dark" id="delete" (click)="redirectToDeletePage(advert.advertId)" title="delete"></i>
                </div>
              </div>

              <div class="card shadow mb-5 bg-white rounded" [routerLink]="['/user/userdetails', advert.advertId]"
                   [queryParams]="{filterBy: searchText}">

                <div class="card-img-top">
                  <div class="thumbnail">
                    <img src="{{advert.imageUrl}}" alt="Image" />
                  </div>
                </div>
                <div class="card-body">
                  <h5 class="card-title">{{ advert.title }}</h5>
                  <p class="card-text">{{ advert.shortDescription }}</p>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>
    </div>
  </div>
</div>
